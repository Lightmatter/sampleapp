{% set panel1 %}
<h1>Anakin</h1>
{% endset %}
{% set panel2 %}
<h1>Yaddle</h1>
{% endset %}
{% set panel3 %}
<h1>Padme</h1>
{% endset %}
{% set panels_default = [panel1, panel2, panel3] %}
{% set tab_names_default = ['Jedi Council but Not Master', "Yoda's Species on the Council", 'Loves Sand'] %}
{% macro tabs(tab_names=tab_names_default, panels=panels_default, tab_style="underline", color="primary", width="default", disabled=[]) %}
    {% set selected="border-{} text-{} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm".format(color, color) %}
    {% set not_selected="border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm" %}
    <div x-data="{ selectedId: null, init() { this.$nextTick(() => this.select(this.$id('tab', 1))) }, select(id) { this.selectedId = id }, isSelected(id) { return this.selectedId === id }, whichChild(el, parent) { return Array.from(parent.children).indexOf(el) + 1 } }" x-id="['tab']"
        {% if width=="default" %}
            class="max-w-3xl mx-auto"
        {% else %}
            class="mx-auto"
        {% endif %}
        >
        <ul {% if tab_style == 'underline' %} {% if width=="default" %} class="-mb-px flex space-x-8" {% else %} class="-mb-px flex" {% endif %}
            {% elif tab_style == 'container' %}
            class="relative z-0 rounded-lg shadow flex divide-x divide-gray-200"
            {% endif %}
            aria-label="Tabs"
            x-ref="tablist"
            role="tablist">
            {% if tab_style == "underline" %}
                {% for tab_name in tab_names %}
                    {% if loop.index in disabled %}
                        <li class="text-gray-400 bg-gray-100 text-center align-middle px-1 py-4 font-medium text-sm {% if width == 'full' %} w-1/{{ tab_names|length }}{% endif %}">
                            {{ tab_name }}
                        </li>
                    {% else %}
                        <li {% if width == "full" %} class="w-1/{{ tab_names|length }} text-center"{% endif %}>
                            <button :id="$id('tab', whichChild($el.parentElement, $refs.tablist))"
                                    @click="select($el.id)"
                                    @focus="select($el.id)"
                                    type="button"
                                    :tabindex="isSelected($el.id) ? 0 : -1"
                                    :aria-selected="isSelected($el.id)"
                                    :class="isSelected($el.id) ? '{{ selected }}' : '{{ not_selected }}'"
                                    role="tab">
                                {{ tab_name }}
                            </button>
                        </li>
                    {% endif %}
                {% endfor %}
            {% elif tab_style == 'container' %}
                {% for tab_name in tab_names %}
                    {% if loop.index in disabled %}
                        <li class="text-gray-400 bg-gray-100 text-center align-middle px-1 py-4 font-medium text-sm {% if width == 'full' %} w-1/{{ tab_names|length }}{% endif %}">
                            {{ tab_name }}
                        </li>
                    {% else %}
                        <li {% if width == "full" %} class="w-1/{{ tab_names|length }} text-center"{% endif %}>
                            <button :id="$id('tab', whichChild($el.parentElement, $refs.tablist))"
                                    @click="select($el.id)"
                                    @focus="select($el.id)"
                                    type="button"
                                    :tabindex="isSelected($el.id) ? 0 : -1"
                                    :aria-selected="isSelected($el.id)"
                                    class="disabled group relative min-w-0 flex-1 overflow-hidden py-4 px-4 text-sm font-medium text-center hover:bg-gray-300 focus:z-10{% if width == 'full' %} w-full{% endif %}"
                                    :class="isSelected($el.id) ? 'bg-gray-200 text-{{ color }}' : 'text-gray-900 bg-gray-100'"
                                    role="tab">
                                {{ tab_name }}
                                <span :class="isSelected($el.parentNode.id) ? 'bg-{{ color }} absolute inset-x-0 bottom-0 h-0.5' : 'bg-transparent absolute inset-x-0 bottom-0 h-0.5'"></span>
                            </button>
                        </li>
                    {% endif %}
                {% endfor %}
            {% endif %}
        </ul>
        <div role="tabpanels" class="bg-white border border-gray-200 rounded-b-md">
            {% for panel in panels %}
                <section x-show="isSelected($id('tab', whichChild($el, $el.parentElement)))"
                         :aria-labelledby="$id('tab', whichChild($el, $el.parentElement))"
                         role="tabpanel"
                         class="p-8">
                    {{ panel }}
                </section>
            {% endfor %}
        </div>
    </div>
{% endmacro %}
{# w-1/1 w-1/2 w-1/3 w-1/4 w-1/5 w-1/6 #}
